<app-navbar></app-navbar>

<div class="container">
    <div>
        <H1>Foro TursArg</H1>
    </div>
    <div>
        <H3>{{TEMA}}</H3>
        <h6><strong>Creado por :</strong>{{Nombre}} {{Apellido}} el {{fecha|date: "dd-MMM-yyyy hh:mm:ss"}}</h6>
    </div>


    <table class="table table-striped">
        <thead>
            <tr>
                <!--<th scope="col">#</th>
                <th scope="col">Tema</th>
                <th scope="col">fecha Inicio</th>
                <th scope="col">Comenzado por</th>
                <th scope="col">Replicas</th>-->
            </tr>
        </thead>
        <tbody>

            <!-- <tr *ngFor="let post of publicaciones; index as i">
                 <th scope="row">{{i + 1}}</th>-->


            <div *ngFor="let post of publicaciones" class="alert alert-primary" role="alert">
                <tr>
                    <H5>Re:{{TEMA}}:</H5>
                </tr>


                <div *ngFor="let user  of usuarios">
                    <div *ngIf="user.idUsuario==post.idUserPublicacion">
                        <td>De:{{user.nombre}} {{user.apellido}} - {{post.fechaPublicacion|date: "dd-MM-yyyy hh:mm:ss"}}</td>

                    </div>

                </div>
                <td>{{post.textoPublicacion}}</td>


            </div>

            <!--<div *ngFor="let user  of usuarios">
                    <div *ngIf="user.idUsuario==post.idUserForo">
                        <td>{{user.nombre}} {{user.apellido}}</td>
                    </div>
                </div>
            <td></td>
            </tr>-->

        </tbody>
    </table>
    <div class="container">
        <div *ngIf="Perfil" class="rows">
            <div class="col">
                <div class="form-group">
                    <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#publicacionModal">Comentar</button>
                </div>
            </div>
        </div>
    </div>
</div>





<div class="modal fade" id="publicacionModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">AÃ±adir Comentario al Tema:</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="form" (ngSubmit)="onSubmit()" autocomplete="off">
                    <div class="form-group">
                        <label for="recipient-name" class="col-form-label">Deja tu Comentario:</label>
                        <textarea rows="8" class="form-control" id="textoPublicacion" name="textoPublicacion" formControlName="textoPublicacion"></textarea>
                        <span class="form-text text-danger" *ngIf="CampoValido('textoPublicacion')">Dato requerido</span>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="cerrar" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                        <button type="submit" class="btn btn-primary">Comentar</button>
                    </div>


                </form>
            </div>
        </div>
    </div>
</div>